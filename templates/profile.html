{% extends "base.html" %}
{% block title %}Perfil de {{ user.username }} - CAIOBOOK{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-8">
  <div class="mb-8 text-center">
    <h1 class="text-3xl font-bold">Perfil de {{ user.username }}</h1>
    {% if is_logged_in() and session['user_id'] == user.id %}
      <p class="text-gray-600">Estas são todas as suas notas.</p>
    {% else %}
      <p class="text-gray-600">Notas públicas de {{ user.username }}.</p>
    {% endif %}
  </div>
  {% if notes %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      {% for note in notes %}
        <div class="bg-white p-6 rounded-lg shadow hover:shadow-xl transition">
          <h2 class="text-xl font-bold mb-2">{{ note.title }}</h2>
          <p class="text-gray-600 text-sm">Atualizada em {{ note.updated_at.strftime('%d/%m/%Y %H:%M') }}</p>
          <div class="mt-4 flex space-x-2">
            <a href="{{ url_for('view_note', note_id=note.id) }}" class="text-indigo-600 hover:underline flex items-center">
              <i class="fa fa-eye mr-1"></i> Visualizar
            </a>
            {% if is_logged_in() and session['user_id'] == user.id %}
              <a href="{{ url_for('edit_note', note_id=note.id) }}" class="text-indigo-600 hover:underline flex items-center">
                <i class="fa fa-edit mr-1"></i> Editar
              </a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-gray-600 text-center">Nenhuma nota encontrada.</p>
  {% endif %}
</div>
{% endblock %}
